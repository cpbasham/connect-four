/*
Fraction.js v2.7.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(w){"use strict";function u(a,b){for(var c;b;)c=a,a=b,b=c%b;return a}function x(a){for(;0===a%2;)a/=2;for(;0===a%5;)a/=5;if(1===a)return 0;for(var b=10%a,c=1;1!==b;c++)if(b=10*b%a,2E3<c)return 0;return c}function l(a,b){var c=0,g=1,h=1,l=0,n=0,m=0,k=1,p=1,d=0,f=1,t=1,q=1;if(void 0!==a&&null!==a)if(void 0!==b)c=a,g=b,h=c*g;else switch(typeof a){case "object":"d"in a&&"n"in a?(c=a.n,g=a.d,"s"in a&&(c*=a.s)):0 in a?(c=a[0],1 in a&&(g=a[1])):v();h=c*g;break;case "number":0>a&&(h=a,a=-a);if(0===a%1)c=a;else if(0<
a){1<=a&&(p=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=p);for(;1E7>=f&&1E7>=q;)if(c=(d+t)/(f+q),a===c){1E7>=f+q?(c=d+t,g=f+q):q>f?(c=t,g=q):(c=d,g=f);break}else a>c?(d+=t,f+=q):(t+=d,q+=f),1E7<f?(c=t,g=q):(c=d,g=f);c*=p}break;case "string":f=a.match(/\d+|./g);"-"===f[d]?(h=-1,d++):"+"===f[d]&&d++;if(f.length===d+1)n=r(f[d++],h);else if("."===f[d+1]||"."===f[d]){"."!==f[d]&&(l=r(f[d++],h));d++;if(d+1===f.length||"("===f[d+1]&&")"===f[d+3]||"'"===f[d+1]&&"'"===f[d+3])n=r(f[d],h),k=Math.pow(10,
f[d].length),d++;if("("===f[d]&&")"===f[d+2]||"'"===f[d]&&"'"===f[d+2])m=r(f[d+1],h),p=Math.pow(10,f[d+1].length)-1,d+=3}else"/"===f[d+1]||":"===f[d+1]?(n=r(f[d],h),k=r(f[d+2],1),d+=3):"/"===f[d+3]&&" "===f[d+1]&&(l=r(f[d],h),n=r(f[d+2],h),k=r(f[d+4],1),d+=5);if(f.length<=d){h=c=m+p*(l*k+n);g=k*p;break}default:v()}if(!g)throw"DIV/0";e.s=0>h?-1:1;e.n=Math.abs(c);e.d=Math.abs(g)}function r(a,b){isNaN(a=parseInt(a,10))&&v();return a*b}function v(){throw"Invalid Param";}function h(a,b){if(!(this instanceof
h))return new h(a,b);l(a,b);h.REDUCE?a=u(e.d,e.n):a=1;this.s=e.s;this.n=e.n/a;this.d=e.d/a}var e={n:0,d:0,s:0};h.REDUCE=1;h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(a,b){l(a,b);return new h(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(a,b){l(a,b);return new h(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(a,b){l(a,b);return new h(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(a,b){l(a,
b);return new h(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return new h(this)},mod:function(a,b){if(void 0===a)return new h(this.s*this.n%this.d,1);l(a,b);0===e.n*this.d&&h(0,0);return new h(this.s*e.d*this.n%(e.n*this.d),e.d*this.d)},gcd:function(a,b){l(a,b);return new h(u(e.n,this.n),e.d*this.d/u(e.d,this.d))},ceil:function(){return new h(Math.ceil(this.s*this.n/this.d),1)},floor:function(){return new h(Math.floor(this.s*this.n/this.d),1)},round:function(){return new h(Math.round(this.s*
this.n/this.d),1)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(a){var b=this.d,c=this.n;0>a?(this.d=Math.pow(c,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(c,a));0===a%2&&(this.s=1);return this},equals:function(a,b){l(a,b);return this.s*this.n*e.d===e.s*e.n*this.d},compare:function(a,b){l(a,b);var c=this.s*this.n*e.d-e.s*e.n*this.d;return(0<c)-(0>c)},divisible:function(a,b){l(a,b);return!!(e.n*this.d)&&!(this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*
this.n/this.d},toFraction:function(){var a,b="",c=this.n,g=this.d;0>this.s&&(b+="-");1===g?b+=c:(a=Math.floor(c/g),0<a&&(b=b+a+" ",c=c%g),b+=c,b+="/",b+=g);return b},toLatex:function(){var a,b="",c=this.n,g=this.d;0>this.s&&(b+="-");1===g?b+=c:(a=Math.floor(c/g),0<a&&(b+=a,c=c%g),b=b+"\\frac{"+c,b+="}{",b+=g,b+="}");return b},toString:function(){var a,b=this.n,c=this.d;h.REDUCE||(a=u(b,c),b/=a,c/=a);a=String(b).split("");var b=0,g=[~this.s?"":"-","",""],e="",l=x(c),n;a:{n=1;var m;m=l;for(var k=10,
p=1;0<m;k=k*k%c,m>>=1)m&1&&(p=p*k%c);m=p;for(k=0;300>k;k++){if(n===m){n=k;break a}n=10*n%c;m=10*m%c}n=0}m=-1;for(var k=1,p=10+l+n+a.length,d=0;d<p;d++,b*=10){d<a.length?b+=Number(a[d]):(k=2,m++);if(0<l)if(m===n)g[k]+=e+"(",e="";else if(m===l+n){g[k]+=e+")";break}b>=c?(g[k]+=e+(b/c|0),e="",b%=c):1<k?e+="0":g[k]&&(g[k]+="0")}g[0]+=g[1]||"0";return g[2]?g[0]+"."+g[2]:g[0]}};"function"===typeof define&&define.amd?define([],function(){return h}):"object"===typeof exports?module.exports=h:w.Fraction=h})(this);
